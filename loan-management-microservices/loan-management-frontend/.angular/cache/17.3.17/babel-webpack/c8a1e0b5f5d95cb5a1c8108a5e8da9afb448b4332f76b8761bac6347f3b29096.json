{"ast":null,"code":"import { environment } from '@environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class EmiService {\n  constructor(http) {\n    this.http = http;\n    this.API_URL = `${environment.apiUrl}/emis`;\n  }\n  /**\n   * Get EMI schedule for a specific loan\n   */\n  getEmiSchedule(loanId) {\n    return this.http.get(`${this.API_URL}/loan/${loanId}`);\n  }\n  /**\n   * Get EMI schedule for all loans of the current user (Customer)\n   */\n  getMyEmiSchedule() {\n    return this.http.get(`${this.API_URL}/my-schedule`);\n  }\n  /**\n   * Get all pending EMIs for the current customer\n   */\n  getPendingEmis() {\n    return this.http.get(`${this.API_URL}/pending`);\n  }\n  /**\n   * Get all overdue EMIs across all customers (Admin/Loan Officer only)\n   */\n  getOverdueEmis() {\n    return this.http.get(`${this.API_URL}/overdue`);\n  }\n  /**\n   * Record EMI payment (Admin/Loan Officer only)\n   */\n  recordPayment(request) {\n    return this.http.post(`${this.API_URL}/pay`, request);\n  }\n  /**\n   * Get payment history for a specific loan\n   */\n  getPaymentHistory(loanId) {\n    return this.http.get(`${this.API_URL}/loan/${loanId}/payments`);\n  }\n  static {\n    this.ɵfac = function EmiService_Factory(t) {\n      return new (t || EmiService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: EmiService,\n      factory: EmiService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["environment","EmiService","constructor","http","API_URL","apiUrl","getEmiSchedule","loanId","get","getMyEmiSchedule","getPendingEmis","getOverdueEmis","recordPayment","request","post","getPaymentHistory","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\KIIT\\Desktop\\Loan Management System\\loan-management-frontend\\src\\app\\core\\services\\emi.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '@environments/environment';\nimport { EmiSchedule, EmiPayment, EmiPaymentRequest } from '../models/emi.model';\nimport { ApiResponse } from '../models/api-response.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmiService {\n  private readonly API_URL = `${environment.apiUrl}/emis`;\n\n  constructor(private http: HttpClient) {}\n\n  /**\n   * Get EMI schedule for a specific loan\n   */\n  getEmiSchedule(loanId: number): Observable<ApiResponse<EmiSchedule[]>> {\n    return this.http.get<ApiResponse<EmiSchedule[]>>(`${this.API_URL}/loan/${loanId}`);\n  }\n\n  /**\n   * Get EMI schedule for all loans of the current user (Customer)\n   */\n  getMyEmiSchedule(): Observable<ApiResponse<EmiSchedule[]>> {\n    return this.http.get<ApiResponse<EmiSchedule[]>>(`${this.API_URL}/my-schedule`);\n  }\n\n  /**\n   * Get all pending EMIs for the current customer\n   */\n  getPendingEmis(): Observable<ApiResponse<EmiSchedule[]>> {\n    return this.http.get<ApiResponse<EmiSchedule[]>>(`${this.API_URL}/pending`);\n  }\n\n  /**\n   * Get all overdue EMIs across all customers (Admin/Loan Officer only)\n   */\n  getOverdueEmis(): Observable<ApiResponse<EmiSchedule[]>> {\n    return this.http.get<ApiResponse<EmiSchedule[]>>(`${this.API_URL}/overdue`);\n  }\n\n  /**\n   * Record EMI payment (Admin/Loan Officer only)\n   */\n  recordPayment(request: EmiPaymentRequest): Observable<ApiResponse<EmiPayment>> {\n    return this.http.post<ApiResponse<EmiPayment>>(`${this.API_URL}/pay`, request);\n  }\n\n  /**\n   * Get payment history for a specific loan\n   */\n  getPaymentHistory(loanId: number): Observable<ApiResponse<EmiPayment[]>> {\n    return this.http.get<ApiResponse<EmiPayment[]>>(`${this.API_URL}/loan/${loanId}/payments`);\n  }\n}\n"],"mappings":"AAGA,SAASA,WAAW,QAAQ,2BAA2B;;;AAOvD,OAAM,MAAOC,UAAU;EAGrBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFP,KAAAC,OAAO,GAAG,GAAGJ,WAAW,CAACK,MAAM,OAAO;EAEhB;EAEvC;;;EAGAC,cAAcA,CAACC,MAAc;IAC3B,OAAO,IAAI,CAACJ,IAAI,CAACK,GAAG,CAA6B,GAAG,IAAI,CAACJ,OAAO,SAASG,MAAM,EAAE,CAAC;EACpF;EAEA;;;EAGAE,gBAAgBA,CAAA;IACd,OAAO,IAAI,CAACN,IAAI,CAACK,GAAG,CAA6B,GAAG,IAAI,CAACJ,OAAO,cAAc,CAAC;EACjF;EAEA;;;EAGAM,cAAcA,CAAA;IACZ,OAAO,IAAI,CAACP,IAAI,CAACK,GAAG,CAA6B,GAAG,IAAI,CAACJ,OAAO,UAAU,CAAC;EAC7E;EAEA;;;EAGAO,cAAcA,CAAA;IACZ,OAAO,IAAI,CAACR,IAAI,CAACK,GAAG,CAA6B,GAAG,IAAI,CAACJ,OAAO,UAAU,CAAC;EAC7E;EAEA;;;EAGAQ,aAAaA,CAACC,OAA0B;IACtC,OAAO,IAAI,CAACV,IAAI,CAACW,IAAI,CAA0B,GAAG,IAAI,CAACV,OAAO,MAAM,EAAES,OAAO,CAAC;EAChF;EAEA;;;EAGAE,iBAAiBA,CAACR,MAAc;IAC9B,OAAO,IAAI,CAACJ,IAAI,CAACK,GAAG,CAA4B,GAAG,IAAI,CAACJ,OAAO,SAASG,MAAM,WAAW,CAAC;EAC5F;;;uBA7CWN,UAAU,EAAAe,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAVlB,UAAU;MAAAmB,OAAA,EAAVnB,UAAU,CAAAoB,IAAA;MAAAC,UAAA,EAFT;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}