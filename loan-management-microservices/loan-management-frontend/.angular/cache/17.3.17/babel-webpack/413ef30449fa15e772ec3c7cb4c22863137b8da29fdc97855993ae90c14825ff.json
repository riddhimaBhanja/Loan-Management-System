{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { LayoutComponent } from '@shared/components/layout/layout.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@core/services/loan-type.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/chips\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nconst _forTrack0 = ($index, $item) => $item.id;\nfunction LoanTypesViewComponent_Conditional_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"mat-spinner\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading loan types...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoanTypesViewComponent_Conditional_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 4)(1, \"mat-icon\", 5);\n    i0.ɵɵtext(2, \"error\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function LoanTypesViewComponent_Conditional_8_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.loadLoanTypes());\n    });\n    i0.ɵɵtext(6, \"Retry\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage());\n  }\n}\nfunction LoanTypesViewComponent_Conditional_9_For_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 8)(1, \"mat-card-header\")(2, \"mat-card-title\")(3, \"mat-icon\", 10);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-chip\", 11);\n    i0.ɵɵtext(7, \"Active\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"mat-card-content\")(9, \"p\", 12);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"div\", 14)(13, \"mat-icon\");\n    i0.ɵɵtext(14, \"payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 15)(16, \"span\", 16);\n    i0.ɵɵtext(17, \"Loan Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 17);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 14)(21, \"mat-icon\");\n    i0.ɵɵtext(22, \"schedule\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 15)(24, \"span\", 16);\n    i0.ɵɵtext(25, \"Tenure Period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"span\", 17);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"div\", 14)(29, \"mat-icon\");\n    i0.ɵɵtext(30, \"percent\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 15)(32, \"span\", 16);\n    i0.ɵɵtext(33, \"Interest Rate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"span\", 18);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(36, \"mat-card-actions\")(37, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function LoanTypesViewComponent_Conditional_9_For_2_Template_button_click_37_listener() {\n      const loanType_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.applyForLoan(loanType_r4));\n    });\n    i0.ɵɵelementStart(38, \"mat-icon\");\n    i0.ɵɵtext(39, \"add_circle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \" Apply Now \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function LoanTypesViewComponent_Conditional_9_For_2_Template_button_click_41_listener() {\n      const loanType_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.calculateEmi(loanType_r4));\n    });\n    i0.ɵɵelementStart(42, \"mat-icon\");\n    i0.ɵɵtext(43, \"calculate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44, \" Calculate EMI \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const loanType_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.getLoanTypeIcon(loanType_r4.name));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", loanType_r4.name, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(loanType_r4.description);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.formatCurrency(loanType_r4.minAmount), \" - \", ctx_r1.formatCurrency(loanType_r4.maxAmount), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate2(\"\", loanType_r4.minTenureMonths, \" - \", loanType_r4.maxTenureMonths, \" months\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", loanType_r4.interestRate, \"% per annum\");\n  }\n}\nfunction LoanTypesViewComponent_Conditional_9_Conditional_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 9)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"inbox\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"No Loan Types Available\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"There are currently no active loan types. Please check back later.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoanTypesViewComponent_Conditional_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵrepeaterCreate(1, LoanTypesViewComponent_Conditional_9_For_2_Template, 45, 8, \"mat-card\", 8, _forTrack0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, LoanTypesViewComponent_Conditional_9_Conditional_3_Template, 7, 0, \"mat-card\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵrepeater(ctx_r1.activeLoanTypes());\n    i0.ɵɵadvance(2);\n    i0.ɵɵconditional(3, ctx_r1.activeLoanTypes().length === 0 ? 3 : -1);\n  }\n}\nexport let LoanTypesViewComponent = /*#__PURE__*/(() => {\n  class LoanTypesViewComponent {\n    constructor(loanTypeService, router) {\n      this.loanTypeService = loanTypeService;\n      this.router = router;\n      this.loanTypes = signal([]);\n      this.isLoading = signal(false);\n      this.errorMessage = signal('');\n    }\n    ngOnInit() {\n      this.loadLoanTypes();\n    }\n    loadLoanTypes() {\n      this.isLoading.set(true);\n      this.errorMessage.set('');\n      this.loanTypeService.getActiveLoanTypes().subscribe({\n        next: response => {\n          this.isLoading.set(false);\n          if (response.success) {\n            this.loanTypes.set(response.data);\n          }\n        },\n        error: error => {\n          this.isLoading.set(false);\n          this.errorMessage.set(error.message || 'Failed to load loan types');\n        }\n      });\n    }\n    activeLoanTypes() {\n      return this.loanTypes().filter(lt => lt.isActive);\n    }\n    formatCurrency(amount) {\n      return `₹${amount.toLocaleString('en-IN')}`;\n    }\n    getLoanTypeIcon(name) {\n      const lowerName = name.toLowerCase();\n      if (lowerName.includes('home') || lowerName.includes('housing')) return 'home';\n      if (lowerName.includes('car') || lowerName.includes('vehicle') || lowerName.includes('auto')) return 'directions_car';\n      if (lowerName.includes('education') || lowerName.includes('student')) return 'school';\n      if (lowerName.includes('personal')) return 'person';\n      if (lowerName.includes('business')) return 'business';\n      if (lowerName.includes('gold')) return 'workspace_premium';\n      return 'account_balance';\n    }\n    applyForLoan(loanType) {\n      this.router.navigate(['/loans/apply'], {\n        queryParams: {\n          loanTypeId: loanType.id\n        }\n      });\n    }\n    calculateEmi(loanType) {\n      // Navigate to loan apply page with pre-selected loan type\n      this.router.navigate(['/loans/apply'], {\n        queryParams: {\n          loanTypeId: loanType.id,\n          calculate: true\n        }\n      });\n    }\n    static {\n      this.ɵfac = function LoanTypesViewComponent_Factory(t) {\n        return new (t || LoanTypesViewComponent)(i0.ɵɵdirectiveInject(i1.LoanTypeService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoanTypesViewComponent,\n        selectors: [[\"app-loan-types-view\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 10,\n        vars: 1,\n        consts: [[1, \"loan-types-container\"], [1, \"page-header\"], [1, \"subtitle\"], [1, \"loading-container\"], [1, \"error-card\"], [\"color\", \"warn\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"loan-types-grid\"], [1, \"loan-type-card\"], [1, \"no-data-card\"], [1, \"loan-type-icon\"], [1, \"active-chip\"], [1, \"description\"], [1, \"loan-details\"], [1, \"detail-row\"], [1, \"detail-content\"], [1, \"label\"], [1, \"value\"], [1, \"value\", \"highlight\"], [\"mat-button\", \"\", 3, \"click\"]],\n        template: function LoanTypesViewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"app-layout\")(1, \"div\", 0)(2, \"div\", 1)(3, \"h1\");\n            i0.ɵɵtext(4, \"Available Loan Types\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 2);\n            i0.ɵɵtext(6, \"Explore our loan options and find the perfect fit for your needs\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(7, LoanTypesViewComponent_Conditional_7_Template, 4, 0, \"div\", 3)(8, LoanTypesViewComponent_Conditional_8_Template, 7, 1)(9, LoanTypesViewComponent_Conditional_9_Template, 4, 1);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵconditional(7, ctx.isLoading() ? 7 : ctx.errorMessage() ? 8 : 9);\n          }\n        },\n        dependencies: [CommonModule, MatCardModule, i3.MatCard, i3.MatCardActions, i3.MatCardContent, i3.MatCardHeader, i3.MatCardTitle, MatButtonModule, i4.MatButton, MatIconModule, i5.MatIcon, MatChipsModule, i6.MatChip, MatProgressSpinnerModule, i7.MatProgressSpinner, LayoutComponent],\n        styles: [\".loan-types-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#1976d2;margin-bottom:8px}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;color:#0009}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;gap:16px}.error-card[_ngcontent-%COMP%], .no-data-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px;text-align:center}.error-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .no-data-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;opacity:.6}.loan-types-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:24px;margin-top:24px}.loan-type-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:transform .2s,box-shadow .2s}.loan-type-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.loan-type-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;justify-content:space-between;align-items:flex-start}.loan-type-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:20px;font-weight:600;color:#fff;margin:0}.loan-type-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .loan-type-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.loan-type-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .active-chip[_ngcontent-%COMP%]{background-color:#ffffff4d;color:#fff;font-weight:500}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px;flex-grow:1}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#000000b3;margin-bottom:24px;line-height:1.6}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loan-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;margin-top:4px}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;color:#0009;margin-bottom:4px}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000000de}.loan-type-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loan-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#667eea;font-weight:600}.loan-type-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:16px 24px 24px;display:flex;gap:12px;border-top:1px solid rgba(0,0,0,.08)}.loan-type-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}@media (max-width: 768px){.loan-types-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.loan-type-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{flex-direction:column}}\"]\n      });\n    }\n  }\n  return LoanTypesViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}