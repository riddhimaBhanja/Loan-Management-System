{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { LayoutComponent } from '@shared/components/layout/layout.component';\nimport { EmploymentStatus } from '@core/models/loan.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@core/services/loan.service\";\nimport * as i3 from \"@core/services/loan-type.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/select\";\nimport * as i9 from \"@angular/material/core\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/icon\";\nimport * as i12 from \"@angular/material/progress-spinner\";\nimport * as i13 from \"@angular/material/stepper\";\nconst _forTrack0 = ($index, $item) => $item.id;\nfunction LoanApplyComponent_Conditional_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 4)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"error\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage());\n  }\n}\nfunction LoanApplyComponent_Conditional_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 5)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"check_circle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.successMessage());\n  }\n}\nfunction LoanApplyComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Select Loan Type\");\n  }\n}\nfunction LoanApplyComponent_Conditional_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"mat-spinner\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading loan types...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoanApplyComponent_Conditional_20_For_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loanType_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", loanType_r3.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" \", loanType_r3.name, \" (\", ctx_r1.formatCurrency(loanType_r3.minAmount), \" - \", ctx_r1.formatCurrency(loanType_r3.maxAmount), \") \");\n  }\n}\nfunction LoanApplyComponent_Conditional_20_Conditional_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 27)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 28);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 29)(6, \"div\", 30)(7, \"label\");\n    i0.ɵɵtext(8, \"Amount Range\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 30)(12, \"label\");\n    i0.ɵɵtext(13, \"Tenure Range\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 30)(17, \"label\");\n    i0.ɵɵtext(18, \"Interest Rate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_3_0;\n    let tmp_4_0;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((tmp_3_0 = ctx_r1.selectedLoanType()) == null ? null : tmp_3_0.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((tmp_4_0 = ctx_r1.selectedLoanType()) == null ? null : tmp_4_0.description);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.formatCurrency(ctx_r1.selectedLoanType().minAmount), \" - \", ctx_r1.formatCurrency(ctx_r1.selectedLoanType().maxAmount), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.selectedLoanType().minTenureMonths, \" - \", ctx_r1.selectedLoanType().maxTenureMonths, \" months\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.selectedLoanType().interestRate, \"% per annum\");\n  }\n}\nfunction LoanApplyComponent_Conditional_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 14)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Loan Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-select\", 26);\n    i0.ɵɵrepeaterCreate(4, LoanApplyComponent_Conditional_20_For_5_Template, 2, 4, \"mat-option\", 22, _forTrack0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-error\");\n    i0.ɵɵtext(7, \"Please select a loan type\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, LoanApplyComponent_Conditional_20_Conditional_8_Template, 21, 7, \"mat-card\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵrepeater(ctx_r1.loanTypes());\n    i0.ɵɵadvance(4);\n    i0.ɵɵconditional(8, ctx_r1.selectedLoanType() ? 8 : -1);\n  }\n}\nfunction LoanApplyComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Loan Details\");\n  }\n}\nfunction LoanApplyComponent_Conditional_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" Amount must be between \", ctx_r1.formatCurrency(ctx_r1.selectedLoanType().minAmount), \" and \", ctx_r1.formatCurrency(ctx_r1.selectedLoanType().maxAmount), \" \");\n  }\n}\nfunction LoanApplyComponent_Conditional_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.selectedLoanType().minTenureMonths, \" - \", ctx_r1.selectedLoanType().maxTenureMonths, \" months\");\n  }\n}\nfunction LoanApplyComponent_Conditional_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" Tenure must be between \", ctx_r1.selectedLoanType().minTenureMonths, \" and \", ctx_r1.selectedLoanType().maxTenureMonths, \" months \");\n  }\n}\nfunction LoanApplyComponent_Conditional_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Purpose must be at least 10 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanApplyComponent_Conditional_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 19)(1, \"h4\");\n    i0.ɵɵtext(2, \"Estimated EMI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 32);\n    i0.ɵɵtext(6, \"*This is an approximate value. Actual EMI will be calculated upon approval.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.formatCurrency(ctx_r1.getEstimatedEmi()), \"/month\");\n  }\n}\nfunction LoanApplyComponent_ng_template_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Employment Details\");\n  }\n}\nfunction LoanApplyComponent_For_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const status_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", status_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.getEmploymentStatusLabel(status_r4));\n  }\n}\nfunction LoanApplyComponent_Conditional_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Please enter a valid monthly income\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanApplyComponent_Conditional_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 25);\n  }\n}\nfunction LoanApplyComponent_Conditional_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Submit Application\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoanApplyComponent = /*#__PURE__*/(() => {\n  class LoanApplyComponent {\n    constructor(fb, loanService, loanTypeService, router, route) {\n      this.fb = fb;\n      this.loanService = loanService;\n      this.loanTypeService = loanTypeService;\n      this.router = router;\n      this.route = route;\n      this.loanTypes = signal([]);\n      this.selectedLoanType = signal(null);\n      this.isLoading = signal(false);\n      this.isSubmitting = signal(false);\n      this.errorMessage = signal('');\n      this.successMessage = signal('');\n      this.employmentStatuses = Object.values(EmploymentStatus);\n    }\n    ngOnInit() {\n      this.initializeForms();\n      this.loadLoanTypes();\n      // Check for pre-selected loan type from query params\n      this.route.queryParams.subscribe(params => {\n        if (params['loanTypeId']) {\n          const loanTypeId = parseInt(params['loanTypeId']);\n          if (!isNaN(loanTypeId)) {\n            // Set the loan type after loan types are loaded\n            setTimeout(() => {\n              this.loanTypeForm.patchValue({\n                loanTypeId\n              });\n            }, 500);\n          }\n        }\n      });\n    }\n    initializeForms() {\n      this.loanTypeForm = this.fb.group({\n        loanTypeId: ['', Validators.required]\n      });\n      this.loanDetailsForm = this.fb.group({\n        amount: ['', [Validators.required, Validators.min(1000)]],\n        tenureMonths: ['', [Validators.required, Validators.min(1)]],\n        purpose: ['', [Validators.required, Validators.minLength(10)]]\n      });\n      this.employmentForm = this.fb.group({\n        employmentStatus: ['', Validators.required],\n        monthlyIncome: ['', [Validators.required, Validators.min(1000)]]\n      });\n      this.loanTypeForm.get('loanTypeId')?.valueChanges.subscribe(loanTypeId => {\n        const loanType = this.loanTypes().find(lt => lt.id === loanTypeId);\n        this.selectedLoanType.set(loanType || null);\n        if (loanType) {\n          this.updateValidators(loanType);\n        }\n      });\n    }\n    updateValidators(loanType) {\n      const amountControl = this.loanDetailsForm.get('amount');\n      const tenureControl = this.loanDetailsForm.get('tenureMonths');\n      amountControl?.setValidators([Validators.required, Validators.min(loanType.minAmount), Validators.max(loanType.maxAmount)]);\n      tenureControl?.setValidators([Validators.required, Validators.min(loanType.minTenureMonths), Validators.max(loanType.maxTenureMonths)]);\n      amountControl?.updateValueAndValidity();\n      tenureControl?.updateValueAndValidity();\n    }\n    loadLoanTypes() {\n      this.isLoading.set(true);\n      this.loanTypeService.getActiveLoanTypes().subscribe({\n        next: response => {\n          this.isLoading.set(false);\n          if (response.success) {\n            this.loanTypes.set(response.data);\n          }\n        },\n        error: error => {\n          this.isLoading.set(false);\n          this.errorMessage.set(error.message || 'Failed to load loan types');\n        }\n      });\n    }\n    onSubmit() {\n      if (this.loanTypeForm.invalid || this.loanDetailsForm.invalid || this.employmentForm.invalid) {\n        return;\n      }\n      this.isSubmitting.set(true);\n      this.errorMessage.set('');\n      this.successMessage.set('');\n      const request = {\n        ...this.loanTypeForm.value,\n        ...this.loanDetailsForm.value,\n        ...this.employmentForm.value\n      };\n      this.loanService.submitLoanApplication(request).subscribe({\n        next: response => {\n          this.isSubmitting.set(false);\n          if (response.success) {\n            this.successMessage.set('Loan application submitted successfully!');\n            setTimeout(() => {\n              this.router.navigate(['/loans/my-loans']);\n            }, 2000);\n          }\n        },\n        error: error => {\n          this.isSubmitting.set(false);\n          this.errorMessage.set(error.message || 'Failed to submit loan application');\n        }\n      });\n    }\n    getEstimatedEmi() {\n      const loanType = this.selectedLoanType();\n      const amount = this.loanDetailsForm.get('amount')?.value;\n      const tenure = this.loanDetailsForm.get('tenureMonths')?.value;\n      if (!loanType || !amount || !tenure) {\n        return 0;\n      }\n      const monthlyRate = loanType.interestRate / 12 / 100;\n      const power = Math.pow(1 + monthlyRate, tenure);\n      const emi = amount * monthlyRate * power / (power - 1);\n      return Math.round(emi);\n    }\n    formatCurrency(amount) {\n      return `₹${amount.toLocaleString('en-IN')}`;\n    }\n    getEmploymentStatusLabel(status) {\n      const labels = {\n        [EmploymentStatus.SALARIED]: 'Salaried',\n        [EmploymentStatus.SELF_EMPLOYED]: 'Self Employed',\n        [EmploymentStatus.BUSINESS_OWNER]: 'Business Owner',\n        [EmploymentStatus.UNEMPLOYED]: 'Unemployed',\n        [EmploymentStatus.RETIRED]: 'Retired'\n      };\n      return labels[status] || status;\n    }\n    static {\n      this.ɵfac = function LoanApplyComponent_Factory(t) {\n        return new (t || LoanApplyComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.LoanService), i0.ɵɵdirectiveInject(i3.LoanTypeService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoanApplyComponent,\n        selectors: [[\"app-loan-apply\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 89,\n        vars: 19,\n        consts: [[\"stepper\", \"\"], [1, \"loan-apply-container\"], [1, \"page-header\"], [\"mat-button\", \"\", \"routerLink\", \"/dashboard\"], [1, \"alert\", \"error-alert\"], [1, \"alert\", \"success-alert\"], [1, \"application-card\"], [\"linear\", \"\"], [3, \"stepControl\"], [3, \"formGroup\"], [\"matStepLabel\", \"\"], [1, \"loading-container\"], [1, \"button-row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"matStepperNext\", \"\", 3, \"disabled\"], [\"appearance\", \"outline\", 1, \"full-width\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"amount\", \"placeholder\", \"Enter amount\"], [\"matPrefix\", \"\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"tenureMonths\", \"placeholder\", \"Enter tenure\"], [\"matInput\", \"\", \"formControlName\", \"purpose\", \"rows\", \"3\", \"placeholder\", \"Describe the purpose of this loan\"], [1, \"emi-estimate\"], [\"mat-button\", \"\", \"matStepperPrevious\", \"\"], [\"formControlName\", \"employmentStatus\"], [3, \"value\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"monthlyIncome\", \"placeholder\", \"Enter monthly income\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\", \"disabled\"], [\"diameter\", \"20\"], [\"formControlName\", \"loanTypeId\"], [1, \"loan-type-details\"], [1, \"description\"], [1, \"details-grid\"], [1, \"detail-item\"], [1, \"emi-amount\"], [1, \"note\"]],\n        template: function LoanApplyComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"app-layout\")(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n            i0.ɵɵtext(4, \"Apply for Loan\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"button\", 3)(6, \"mat-icon\");\n            i0.ɵɵtext(7, \"arrow_back\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(8, \" Back to Dashboard \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(9, LoanApplyComponent_Conditional_9_Template, 5, 1, \"mat-card\", 4)(10, LoanApplyComponent_Conditional_10_Template, 5, 1, \"mat-card\", 5);\n            i0.ɵɵelementStart(11, \"mat-card\", 6)(12, \"mat-stepper\", 7, 0)(14, \"mat-step\", 8)(15, \"form\", 9);\n            i0.ɵɵtemplate(16, LoanApplyComponent_ng_template_16_Template, 1, 0, \"ng-template\", 10);\n            i0.ɵɵelementStart(17, \"h2\");\n            i0.ɵɵtext(18, \"Choose Your Loan Type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(19, LoanApplyComponent_Conditional_19_Template, 4, 0, \"div\", 11)(20, LoanApplyComponent_Conditional_20_Template, 9, 1);\n            i0.ɵɵelementStart(21, \"div\", 12)(22, \"button\", 13);\n            i0.ɵɵtext(23, \" Next \");\n            i0.ɵɵelementStart(24, \"mat-icon\");\n            i0.ɵɵtext(25, \"arrow_forward\");\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(26, \"mat-step\", 8)(27, \"form\", 9);\n            i0.ɵɵtemplate(28, LoanApplyComponent_ng_template_28_Template, 1, 0, \"ng-template\", 10);\n            i0.ɵɵelementStart(29, \"h2\");\n            i0.ɵɵtext(30, \"Loan Details\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"mat-form-field\", 14)(32, \"mat-label\");\n            i0.ɵɵtext(33, \"Requested Amount\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(34, \"input\", 15);\n            i0.ɵɵelementStart(35, \"span\", 16);\n            i0.ɵɵtext(36, \"\\u20B9\\u00A0\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(37, LoanApplyComponent_Conditional_37_Template, 2, 2, \"mat-error\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"mat-form-field\", 14)(39, \"mat-label\");\n            i0.ɵɵtext(40, \"Tenure (Months)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(41, \"input\", 17);\n            i0.ɵɵtemplate(42, LoanApplyComponent_Conditional_42_Template, 2, 2, \"mat-hint\")(43, LoanApplyComponent_Conditional_43_Template, 2, 2, \"mat-error\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(44, \"mat-form-field\", 14)(45, \"mat-label\");\n            i0.ɵɵtext(46, \"Purpose of Loan\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(47, \"textarea\", 18);\n            i0.ɵɵelementStart(48, \"mat-hint\");\n            i0.ɵɵtext(49, \"Minimum 10 characters\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(50, LoanApplyComponent_Conditional_50_Template, 2, 0, \"mat-error\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(51, LoanApplyComponent_Conditional_51_Template, 7, 1, \"mat-card\", 19);\n            i0.ɵɵelementStart(52, \"div\", 12)(53, \"button\", 20)(54, \"mat-icon\");\n            i0.ɵɵtext(55, \"arrow_back\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(56, \" Back \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(57, \"button\", 13);\n            i0.ɵɵtext(58, \" Next \");\n            i0.ɵɵelementStart(59, \"mat-icon\");\n            i0.ɵɵtext(60, \"arrow_forward\");\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(61, \"mat-step\", 8)(62, \"form\", 9);\n            i0.ɵɵtemplate(63, LoanApplyComponent_ng_template_63_Template, 1, 0, \"ng-template\", 10);\n            i0.ɵɵelementStart(64, \"h2\");\n            i0.ɵɵtext(65, \"Employment Information\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(66, \"mat-form-field\", 14)(67, \"mat-label\");\n            i0.ɵɵtext(68, \"Employment Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(69, \"mat-select\", 21);\n            i0.ɵɵrepeaterCreate(70, LoanApplyComponent_For_71_Template, 2, 2, \"mat-option\", 22, i0.ɵɵrepeaterTrackByIdentity);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(72, \"mat-error\");\n            i0.ɵɵtext(73, \"Please select employment status\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(74, \"mat-form-field\", 14)(75, \"mat-label\");\n            i0.ɵɵtext(76, \"Monthly Income\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(77, \"input\", 23);\n            i0.ɵɵelementStart(78, \"span\", 16);\n            i0.ɵɵtext(79, \"\\u20B9\\u00A0\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(80, LoanApplyComponent_Conditional_80_Template, 2, 0, \"mat-error\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(81, \"div\", 12)(82, \"button\", 20)(83, \"mat-icon\");\n            i0.ɵɵtext(84, \"arrow_back\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(85, \" Back \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(86, \"button\", 24);\n            i0.ɵɵlistener(\"click\", function LoanApplyComponent_Template_button_click_86_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onSubmit());\n            });\n            i0.ɵɵtemplate(87, LoanApplyComponent_Conditional_87_Template, 1, 0, \"mat-spinner\", 25)(88, LoanApplyComponent_Conditional_88_Template, 2, 0);\n            i0.ɵɵelementEnd()()()()()()()();\n          }\n          if (rf & 2) {\n            let tmp_9_0;\n            let tmp_11_0;\n            let tmp_12_0;\n            let tmp_18_0;\n            i0.ɵɵadvance(9);\n            i0.ɵɵconditional(9, ctx.errorMessage() ? 9 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(10, ctx.successMessage() ? 10 : -1);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"stepControl\", ctx.loanTypeForm);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"formGroup\", ctx.loanTypeForm);\n            i0.ɵɵadvance(4);\n            i0.ɵɵconditional(19, ctx.isLoading() ? 19 : 20);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"disabled\", ctx.loanTypeForm.invalid);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"stepControl\", ctx.loanDetailsForm);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"formGroup\", ctx.loanDetailsForm);\n            i0.ɵɵadvance(10);\n            i0.ɵɵconditional(37, ((tmp_9_0 = ctx.loanDetailsForm.get(\"amount\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.loanDetailsForm.get(\"amount\")) == null ? null : tmp_9_0.touched) && ctx.selectedLoanType() ? 37 : -1);\n            i0.ɵɵadvance(5);\n            i0.ɵɵconditional(42, ctx.selectedLoanType() ? 42 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(43, ((tmp_11_0 = ctx.loanDetailsForm.get(\"tenureMonths\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx.loanDetailsForm.get(\"tenureMonths\")) == null ? null : tmp_11_0.touched) && ctx.selectedLoanType() ? 43 : -1);\n            i0.ɵɵadvance(7);\n            i0.ɵɵconditional(50, ((tmp_12_0 = ctx.loanDetailsForm.get(\"purpose\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx.loanDetailsForm.get(\"purpose\")) == null ? null : tmp_12_0.touched) ? 50 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(51, ctx.getEstimatedEmi() > 0 ? 51 : -1);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"disabled\", ctx.loanDetailsForm.invalid);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"stepControl\", ctx.employmentForm);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"formGroup\", ctx.employmentForm);\n            i0.ɵɵadvance(8);\n            i0.ɵɵrepeater(ctx.employmentStatuses);\n            i0.ɵɵadvance(10);\n            i0.ɵɵconditional(80, ((tmp_18_0 = ctx.employmentForm.get(\"monthlyIncome\")) == null ? null : tmp_18_0.invalid) && ((tmp_18_0 = ctx.employmentForm.get(\"monthlyIncome\")) == null ? null : tmp_18_0.touched) ? 80 : -1);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"disabled\", ctx.loanTypeForm.invalid || ctx.loanDetailsForm.invalid || ctx.employmentForm.invalid || ctx.isSubmitting());\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(87, ctx.isSubmitting() ? 87 : 88);\n          }\n        },\n        dependencies: [CommonModule, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, RouterModule, i4.RouterLink, MatCardModule, i5.MatCard, MatFormFieldModule, i6.MatFormField, i6.MatLabel, i6.MatHint, i6.MatError, i6.MatPrefix, MatInputModule, i7.MatInput, MatSelectModule, i8.MatSelect, i9.MatOption, MatButtonModule, i10.MatButton, MatIconModule, i11.MatIcon, MatProgressSpinnerModule, i12.MatProgressSpinner, MatStepperModule, i13.MatStep, i13.MatStepLabel, i13.MatStepper, i13.MatStepperNext, i13.MatStepperPrevious, LayoutComponent],\n        styles: [\".loan-apply-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:32px 24px;position:relative;z-index:1;min-height:100vh}.loan-apply-container[_ngcontent-%COMP%]:before{content:\\\"\\\";position:fixed;top:0;left:0;width:100%;height:100%;background-image:url(https://wallpapercave.com/wp/wp9391801.jpg);background-size:cover;background-position:center;background-attachment:fixed;opacity:.53;z-index:-2;pointer-events:none}.loan-apply-container[_ngcontent-%COMP%]:after{content:\\\"\\\";position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#667eea0a,#f093fb0a);z-index:-1;pointer-events:none}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding:28px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;box-shadow:0 4px 16px #00000014;border:1px solid rgba(255,255,255,.2)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:32px;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.page-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px 24px;margin-bottom:28px;border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_slideDown .4s ease-out}.alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.alert.error-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b1f,#ee5a6f1f);border-left:4px solid #ff6b6b;color:#c62828}.alert.success-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#81c7841f,#388e3c1f);border-left:4px solid #4caf50;color:#2e7d32}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.application-card[_ngcontent-%COMP%]{padding:40px;background:#fffffff2!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;border-radius:24px!important;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a!important}mat-stepper[_ngcontent-%COMP%]{background:transparent!important}mat-stepper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 28px;font-size:22px;font-weight:600;color:#333}mat-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]{background:#667eea0d!important;border-radius:12px!important;padding:8px 16px!important;margin:4px 0;transition:all .2s ease}mat-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]:hover{background:#667eea1a!important}mat-stepper[_ngcontent-%COMP%]   .mat-step-header.cdk-keyboard-focused[_ngcontent-%COMP%], mat-stepper[_ngcontent-%COMP%]   .mat-step-header.cdk-program-focused[_ngcontent-%COMP%], mat-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]:hover{background:#667eea1f!important}mat-stepper[_ngcontent-%COMP%]   .mat-step-header.mat-step-header-selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea26,#764ba226)!important}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px}.loading-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000000a6;font-size:16px;font-weight:500}.loan-type-details[_ngcontent-%COMP%]{margin-top:28px;padding:28px;background:linear-gradient(135deg,#667eea14,#764ba214);border-radius:16px;border:2px solid rgba(102,126,234,.2)}.loan-type-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:20px;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.loan-type-details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:0 0 20px;color:#000000b3;font-size:15px;line-height:1.6}.loan-type-details[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}.loan-type-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{padding:16px;background:#ffffffe6;border-radius:12px;box-shadow:0 2px 8px #0000000d}.loan-type-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#00000080;margin-bottom:6px;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.loan-type-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;font-weight:600;color:#333}.emi-estimate[_ngcontent-%COMP%]{margin-top:28px;padding:32px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;color:#fff;box-shadow:0 8px 24px #667eea66;position:relative;overflow:hidden}.emi-estimate[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:-50%;right:-20%;width:200px;height:200px;background:radial-gradient(circle,rgba(255,255,255,.15) 0%,transparent 70%);border-radius:50%}.emi-estimate[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:15px;font-weight:500;opacity:.95;text-transform:uppercase;letter-spacing:1px}.emi-estimate[_ngcontent-%COMP%]   .emi-amount[_ngcontent-%COMP%]{margin:0 0 12px;font-size:40px;font-weight:700;text-shadow:0 2px 8px rgba(0,0,0,.2)}.emi-estimate[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{margin:0;font-size:13px;opacity:.85}.button-row[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:flex-end;margin-top:36px}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;min-width:140px;position:relative;border-radius:25px!important;padding:12px 28px!important;font-weight:600!important}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@media (max-width: 768px){.loan-apply-container[_ngcontent-%COMP%]{padding:20px 16px}.application-card[_ngcontent-%COMP%]{padding:24px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:20px;padding:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px}.loan-type-details[_ngcontent-%COMP%]{padding:20px}.loan-type-details[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.emi-estimate[_ngcontent-%COMP%]{padding:24px}.emi-estimate[_ngcontent-%COMP%]   .emi-amount[_ngcontent-%COMP%]{font-size:32px}.button-row[_ngcontent-%COMP%]{flex-direction:column}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}}\"]\n      });\n    }\n  }\n  return LoanApplyComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}