{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatListModule } from '@angular/material/list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatMenuModule } from '@angular/material/menu';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@core/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/toolbar\";\nimport * as i4 from \"@angular/material/sidenav\";\nimport * as i5 from \"@angular/material/list\";\nimport * as i6 from \"@angular/material/divider\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/menu\";\nconst _c0 = [\"*\"];\nconst _forTrack0 = ($index, $item) => $item.route;\nconst _c1 = () => [\"/dashboard\"];\nfunction LayoutComponent_For_37_Conditional_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 17)(1, \"mat-icon\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", item_r2.route);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.label);\n  }\n}\nfunction LayoutComponent_For_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, LayoutComponent_For_37_Conditional_0_Template, 5, 3, \"a\", 17);\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵconditional(0, ctx_r2.shouldShowNavItem(item_r2) ? 0 : -1);\n  }\n}\nexport let LayoutComponent = /*#__PURE__*/(() => {\n  class LayoutComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.currentUser = signal(null);\n      this.sidenavOpened = signal(true);\n      this.navItems = [{\n        label: 'Dashboard',\n        route: '/dashboard',\n        icon: 'dashboard'\n      }, {\n        label: 'Loan Types',\n        route: '/loan-types',\n        icon: 'category',\n        roles: ['CUSTOMER']\n      }, {\n        label: 'Apply for Loan',\n        route: '/loans/apply',\n        icon: 'add_circle',\n        roles: ['CUSTOMER']\n      }, {\n        label: 'My Loans',\n        route: '/loans/my-loans',\n        icon: 'account_balance',\n        roles: ['CUSTOMER']\n      }, {\n        label: 'My EMI Schedule',\n        route: '/emis/my-schedule',\n        icon: 'schedule',\n        roles: ['CUSTOMER']\n      }, {\n        label: 'All Loans',\n        route: '/loans/all',\n        icon: 'list',\n        roles: ['ADMIN', 'LOAN_OFFICER']\n      }, {\n        label: 'Assigned Loans',\n        route: '/loans/assigned',\n        icon: 'assignment',\n        roles: ['LOAN_OFFICER']\n      }, {\n        label: 'Overdue EMIs',\n        route: '/emis/overdue',\n        icon: 'warning',\n        roles: ['ADMIN', 'LOAN_OFFICER']\n      }, {\n        label: 'Reports',\n        route: '/admin/reports',\n        icon: 'assessment',\n        roles: ['ADMIN', 'LOAN_OFFICER']\n      }, {\n        label: 'Users',\n        route: '/admin/users',\n        icon: 'people',\n        roles: ['ADMIN']\n      }, {\n        label: 'Manage Loan Types',\n        route: '/admin/loan-types',\n        icon: 'settings',\n        roles: ['ADMIN']\n      }, {\n        label: 'My Profile',\n        route: '/profile',\n        icon: 'account_circle'\n      }];\n    }\n    ngOnInit() {\n      this.authService.currentUser$.subscribe(user => {\n        this.currentUser.set(user);\n      });\n    }\n    toggleSidenav() {\n      this.sidenavOpened.set(!this.sidenavOpened());\n    }\n    shouldShowNavItem(item) {\n      if (!item.roles || item.roles.length === 0) {\n        return true;\n      }\n      return this.authService.hasAnyRole(item.roles);\n    }\n    logout() {\n      this.authService.logout();\n    }\n    getUserDisplayName() {\n      const user = this.currentUser();\n      return user ? user.fullName : 'User';\n    }\n    getUserRole() {\n      const user = this.currentUser();\n      if (!user || !user.roles || user.roles.length === 0) {\n        return '';\n      }\n      return user.roles[0].replace('_', ' ');\n    }\n    static {\n      this.ɵfac = function LayoutComponent_Factory(t) {\n        return new (t || LayoutComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LayoutComponent,\n        selectors: [[\"app-layout\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        ngContentSelectors: _c0,\n        decls: 41,\n        vars: 7,\n        consts: [[\"userMenu\", \"matMenu\"], [\"sidenav\", \"\"], [\"color\", \"primary\", 1, \"toolbar\"], [\"mat-icon-button\", \"\", 3, \"click\"], [1, \"app-title\"], [1, \"spacer\"], [\"mat-button\", \"\", 3, \"matMenuTriggerFor\"], [1, \"user-name\"], [\"mat-menu-item\", \"\", \"disabled\", \"\", 1, \"user-menu-header\"], [1, \"user-name-menu\"], [1, \"user-role\"], [\"mat-menu-item\", \"\", 3, \"routerLink\"], [\"mat-menu-item\", \"\", 3, \"click\"], [1, \"sidenav-container\"], [\"mode\", \"side\", 1, \"sidenav\", 3, \"opened\"], [1, \"content\"], [1, \"content-wrapper\"], [\"mat-list-item\", \"\", \"routerLinkActive\", \"active\", 3, \"routerLink\"], [\"matListItemIcon\", \"\"], [\"matListItemTitle\", \"\"]],\n        template: function LayoutComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵprojectionDef();\n            i0.ɵɵelementStart(0, \"mat-toolbar\", 2)(1, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function LayoutComponent_Template_button_click_1_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.toggleSidenav());\n            });\n            i0.ɵɵelementStart(2, \"mat-icon\");\n            i0.ɵɵtext(3, \"menu\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(4, \"span\", 4);\n            i0.ɵɵtext(5, \"Loan Management System\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(6, \"span\", 5);\n            i0.ɵɵelementStart(7, \"button\", 6)(8, \"mat-icon\");\n            i0.ɵɵtext(9, \"account_circle\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"span\", 7);\n            i0.ɵɵtext(11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"mat-icon\");\n            i0.ɵɵtext(13, \"arrow_drop_down\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"mat-menu\", null, 0)(16, \"div\", 8)(17, \"div\", 9);\n            i0.ɵɵtext(18);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"div\", 10);\n            i0.ɵɵtext(20);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(21, \"mat-divider\");\n            i0.ɵɵelementStart(22, \"button\", 11)(23, \"mat-icon\");\n            i0.ɵɵtext(24, \"dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"span\");\n            i0.ɵɵtext(26, \"Dashboard\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function LayoutComponent_Template_button_click_27_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.logout());\n            });\n            i0.ɵɵelementStart(28, \"mat-icon\");\n            i0.ɵɵtext(29, \"exit_to_app\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"span\");\n            i0.ɵɵtext(31, \"Logout\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(32, \"mat-sidenav-container\", 13)(33, \"mat-sidenav\", 14, 1)(35, \"mat-nav-list\");\n            i0.ɵɵrepeaterCreate(36, LayoutComponent_For_37_Template, 1, 1, null, null, _forTrack0);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"mat-sidenav-content\", 15)(39, \"div\", 16);\n            i0.ɵɵprojection(40);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            const userMenu_r4 = i0.ɵɵreference(15);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"matMenuTriggerFor\", userMenu_r4);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtextInterpolate(ctx.getUserDisplayName());\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate(ctx.getUserDisplayName());\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.getUserRole());\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c1));\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"opened\", ctx.sidenavOpened());\n            i0.ɵɵadvance(3);\n            i0.ɵɵrepeater(ctx.navItems);\n          }\n        },\n        dependencies: [CommonModule, RouterModule, i2.RouterLink, i2.RouterLinkActive, MatToolbarModule, i3.MatToolbar, MatSidenavModule, i4.MatSidenav, i4.MatSidenavContainer, i4.MatSidenavContent, MatListModule, i5.MatNavList, i5.MatListItem, i5.MatListItemIcon, i6.MatDivider, i5.MatListItemTitle, MatIconModule, i7.MatIcon, MatButtonModule, i8.MatButton, i8.MatIconButton, MatMenuModule, i9.MatMenu, i9.MatMenuItem, i9.MatMenuTrigger],\n        styles: [\".toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;box-shadow:0 4px 20px #0000001a;background:linear-gradient(135deg,#667eea,#764ba2)!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.toolbar[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:transparent!important}.app-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-left:12px;color:#fff;letter-spacing:.5px;text-shadow:0 2px 4px rgba(0,0,0,.2)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.user-name[_ngcontent-%COMP%]{margin:0 12px;font-weight:500;color:#fffffff2;font-size:15px}.user-menu-header[_ngcontent-%COMP%]{padding:20px;cursor:default!important;background:linear-gradient(135deg,#667eea0d,#764ba20d);border-bottom:2px solid rgba(102,126,234,.1)}.user-menu-header[_ngcontent-%COMP%]   .user-name-menu[_ngcontent-%COMP%]{font-weight:600;font-size:17px;margin-bottom:6px;color:#333}.user-menu-header[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:13px;color:#0009;text-transform:capitalize;font-weight:500;letter-spacing:.5px}.sidenav-container[_ngcontent-%COMP%]{position:absolute;inset:64px 0 0}.sidenav[_ngcontent-%COMP%]{width:260px;background:#fffffffa!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:4px 0 20px #00000014;border-right:1px solid rgba(102,126,234,.1)}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding-top:20px}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:6px 12px;border-radius:12px;transition:all .3s ease;padding:12px 16px!important;font-weight:500;color:#000000bf}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0009;margin-right:12px;transition:all .3s ease}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#667eea14,#764ba214);transform:translate(4px)}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea26,#764ba226);box-shadow:0 4px 12px #667eea33;font-weight:600;color:#667eea}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:70%;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:0 4px 4px 0}.content[_ngcontent-%COMP%]{position:relative;overflow:auto;background-image:url(https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1920&q=80);background-size:cover;background-position:center;background-attachment:fixed}.content[_ngcontent-%COMP%]:before{content:\\\"\\\";position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#667eeaeb,#764ba2e6,#f093fbe0,#4facfee6,#00f2feeb);background-size:400% 400%;animation:_ngcontent-%COMP%_gradientShift 15s ease infinite;z-index:0;pointer-events:none}.content[_ngcontent-%COMP%]:after{content:\\\"\\\";position:fixed;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle at 20% 50%,rgba(255,255,255,.15) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.15) 0%,transparent 50%),radial-gradient(circle at 40% 20%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;z-index:0}@keyframes _ngcontent-%COMP%_gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.content-wrapper[_ngcontent-%COMP%]{padding:24px;min-height:calc(100vh - 64px);position:relative;z-index:1}.mat-toolbar[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}.mat-toolbar[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]:hover{background:#ffffff1a!important}.mat-toolbar[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{color:#fff!important}@media (max-width: 768px){.app-title[_ngcontent-%COMP%]{font-size:18px;margin-left:8px}.user-name[_ngcontent-%COMP%]{display:none}.sidenav[_ngcontent-%COMP%]{width:220px}.content-wrapper[_ngcontent-%COMP%]{padding:16px}}\"]\n      });\n    }\n  }\n  return LayoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}