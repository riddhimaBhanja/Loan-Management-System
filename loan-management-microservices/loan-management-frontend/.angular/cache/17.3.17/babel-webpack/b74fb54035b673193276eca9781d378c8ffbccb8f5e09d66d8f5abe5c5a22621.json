{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { PageHeaderComponent } from '@shared/components/page-header/page-header.component';\nimport { InrCurrencyPipe } from '@shared/pipes/inr-currency.pipe';\nimport { ConfirmationDialogComponent } from '@shared/components/confirmation-dialog/confirmation-dialog.component';\nimport { LoanStatus } from '@core/models/loan.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@core/services/loan.service\";\nimport * as i4 from \"@core/services/notification.service\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"@angular/material/icon\";\nimport * as i12 from \"@angular/material/progress-spinner\";\nfunction LoanReviewComponent_div_1_mat_card_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 14)(1, \"mat-card-content\")(2, \"div\", 15)(3, \"mat-icon\", 16);\n    i0.ɵɵtext(4, \"warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 17)(6, \"h3\");\n    i0.ɵɵtext(7, \"Loan Already Processed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.getProcessedStatusMessage());\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_46_mat_error_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Approved amount is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_46_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Amount must be greater than 0 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_46_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Interest rate is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_46_mat_error_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Rate must be between 0.1% and 30% \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 18)(1, \"mat-card-header\")(2, \"mat-card-title\")(3, \"mat-icon\", 19);\n    i0.ɵɵtext(4, \"check_circle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" Approve Application \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-card-content\")(7, \"form\", 20)(8, \"mat-form-field\", 21)(9, \"mat-label\");\n    i0.ɵɵtext(10, \"Approved Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"input\", 22);\n    i0.ɵɵelementStart(12, \"span\", 23);\n    i0.ɵɵtext(13, \"\\u20B9\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, LoanReviewComponent_div_1_mat_card_46_mat_error_14_Template, 2, 0, \"mat-error\", 24)(15, LoanReviewComponent_div_1_mat_card_46_mat_error_15_Template, 2, 0, \"mat-error\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-form-field\", 21)(17, \"mat-label\");\n    i0.ɵɵtext(18, \"Interest Rate (per annum)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"input\", 25);\n    i0.ɵɵelementStart(20, \"span\", 26);\n    i0.ɵɵtext(21, \"%\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, LoanReviewComponent_div_1_mat_card_46_mat_error_22_Template, 2, 0, \"mat-error\", 24)(23, LoanReviewComponent_div_1_mat_card_46_mat_error_23_Template, 2, 0, \"mat-error\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"mat-form-field\", 21)(25, \"mat-label\");\n    i0.ɵɵtext(26, \"Approval Remarks (Optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"textarea\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function LoanReviewComponent_div_1_mat_card_46_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.onApprove());\n    });\n    i0.ɵɵelementStart(29, \"mat-icon\");\n    i0.ɵɵtext(30, \"check_circle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \" Approve Loan \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.approvalForm);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx_r0.approvalForm.get(\"approvedAmount\")) == null ? null : tmp_4_0.hasError(\"required\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx_r0.approvalForm.get(\"approvedAmount\")) == null ? null : tmp_5_0.hasError(\"min\"));\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx_r0.approvalForm.get(\"interestRate\")) == null ? null : tmp_6_0.hasError(\"required\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx_r0.approvalForm.get(\"interestRate\")) == null ? null : tmp_7_0.hasError(\"min\")) || ((tmp_7_0 = ctx_r0.approvalForm.get(\"interestRate\")) == null ? null : tmp_7_0.hasError(\"max\")));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.approvalForm.invalid || ctx_r0.isSubmitting());\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_47_mat_error_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Rejection reason is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_47_mat_error_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Reason must be at least 10 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_47_mat_error_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Reason cannot exceed 1000 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_47_mat_error_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Notes cannot exceed 500 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoanReviewComponent_div_1_mat_card_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 18)(1, \"mat-card-header\")(2, \"mat-card-title\")(3, \"mat-icon\", 29);\n    i0.ɵɵtext(4, \"cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" Reject Application \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-card-content\")(7, \"form\", 20)(8, \"mat-form-field\", 21)(9, \"mat-label\");\n    i0.ɵɵtext(10, \"Rejection Reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"textarea\", 30);\n    i0.ɵɵtemplate(12, LoanReviewComponent_div_1_mat_card_47_mat_error_12_Template, 2, 0, \"mat-error\", 24)(13, LoanReviewComponent_div_1_mat_card_47_mat_error_13_Template, 2, 0, \"mat-error\", 24)(14, LoanReviewComponent_div_1_mat_card_47_mat_error_14_Template, 2, 0, \"mat-error\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"mat-form-field\", 21)(16, \"mat-label\");\n    i0.ɵɵtext(17, \"Additional Notes (Optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"textarea\", 31);\n    i0.ɵɵtemplate(19, LoanReviewComponent_div_1_mat_card_47_mat_error_19_Template, 2, 0, \"mat-error\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function LoanReviewComponent_div_1_mat_card_47_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.onReject());\n    });\n    i0.ɵɵelementStart(21, \"mat-icon\");\n    i0.ɵɵtext(22, \"cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \" Reject Loan \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.rejectionForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx_r0.rejectionForm.get(\"rejectionReason\")) == null ? null : tmp_4_0.hasError(\"required\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx_r0.rejectionForm.get(\"rejectionReason\")) == null ? null : tmp_5_0.hasError(\"minlength\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx_r0.rejectionForm.get(\"rejectionReason\")) == null ? null : tmp_6_0.hasError(\"maxlength\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx_r0.rejectionForm.get(\"notes\")) == null ? null : tmp_7_0.hasError(\"maxlength\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r0.rejectionForm.invalid || ctx_r0.isSubmitting());\n  }\n}\nfunction LoanReviewComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"mat-card\", 5)(3, \"mat-card-header\")(4, \"mat-card-title\");\n    i0.ɵɵtext(5, \"Loan Summary\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-card-content\")(7, \"div\", 6)(8, \"div\", 7)(9, \"span\", 8);\n    i0.ɵɵtext(10, \"Customer:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 9);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 7)(14, \"span\", 8);\n    i0.ɵɵtext(15, \"Loan Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 9);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 7)(19, \"span\", 8);\n    i0.ɵɵtext(20, \"Requested Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\", 10);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"inrCurrency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 7)(25, \"span\", 8);\n    i0.ɵɵtext(26, \"Tenure:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"span\", 9);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 7)(30, \"span\", 8);\n    i0.ɵɵtext(31, \"Employment:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"span\", 9);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 7)(35, \"span\", 8);\n    i0.ɵɵtext(36, \"Monthly Income:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"span\", 9);\n    i0.ɵɵtext(38);\n    i0.ɵɵpipe(39, \"inrCurrency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 11)(41, \"span\", 8);\n    i0.ɵɵtext(42, \"Purpose:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"p\", 9);\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵtemplate(45, LoanReviewComponent_div_1_mat_card_45_Template, 10, 1, \"mat-card\", 12)(46, LoanReviewComponent_div_1_mat_card_46_Template, 32, 6, \"mat-card\", 13)(47, LoanReviewComponent_div_1_mat_card_47_Template, 24, 6, \"mat-card\", 13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const loanData_r4 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate(loanData_r4.customerName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(loanData_r4.loanTypeName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 10, loanData_r4.requestedAmount));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", loanData_r4.tenureMonths, \" months\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(loanData_r4.employmentStatus);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(39, 12, loanData_r4.monthlyIncome));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(loanData_r4.purpose);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isAlreadyProcessed());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canApproveOrReject());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canApproveOrReject());\n  }\n}\nfunction LoanReviewComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelement(1, \"mat-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoanReviewComponent = /*#__PURE__*/(() => {\n  class LoanReviewComponent {\n    constructor(fb, route, router, loanService, notificationService, dialog) {\n      this.fb = fb;\n      this.route = route;\n      this.router = router;\n      this.loanService = loanService;\n      this.notificationService = notificationService;\n      this.dialog = dialog;\n      this.loan = signal(null);\n      this.isLoading = signal(false);\n      this.isSubmitting = signal(false);\n      this.LoanStatus = LoanStatus; // Expose enum to template\n      this.initForms();\n    }\n    ngOnInit() {\n      const loanId = this.route.snapshot.params['id'];\n      this.loadLoan(loanId);\n    }\n    initForms() {\n      this.approvalForm = this.fb.group({\n        approvedAmount: ['', [Validators.required, Validators.min(1)]],\n        interestRate: ['', [Validators.required, Validators.min(0.1), Validators.max(30)]],\n        remarks: ['']\n      });\n      this.rejectionForm = this.fb.group({\n        rejectionReason: ['', [Validators.required, Validators.minLength(10), Validators.maxLength(1000)]],\n        notes: ['', [Validators.maxLength(500)]]\n      });\n    }\n    loadLoan(id) {\n      this.isLoading.set(true);\n      this.loanService.getLoanById(id).subscribe({\n        next: response => {\n          if (response.success && response.data) {\n            this.loan.set(response.data);\n            this.prefillApprovalForm(response.data);\n          }\n          this.isLoading.set(false);\n        },\n        error: () => {\n          this.notificationService.error('Failed to load loan details');\n          this.isLoading.set(false);\n          this.router.navigate(['/loans']);\n        }\n      });\n    }\n    prefillApprovalForm(loan) {\n      this.approvalForm.patchValue({\n        approvedAmount: loan.requestedAmount,\n        interestRate: 12.0,\n        remarks: ''\n      });\n    }\n    canApproveOrReject() {\n      const loan = this.loan();\n      // Only allow approval/rejection for PENDING, APPLIED, or UNDER_REVIEW status\n      return loan?.status === LoanStatus.PENDING || loan?.status === LoanStatus.APPLIED || loan?.status === LoanStatus.UNDER_REVIEW;\n    }\n    isAlreadyProcessed() {\n      const loan = this.loan();\n      return loan?.status === LoanStatus.APPROVED || loan?.status === LoanStatus.REJECTED || loan?.status === LoanStatus.DISBURSED || loan?.status === LoanStatus.CLOSED;\n    }\n    getProcessedStatusMessage() {\n      const loan = this.loan();\n      if (!loan) return '';\n      switch (loan.status) {\n        case LoanStatus.APPROVED:\n          return 'This loan has already been approved and cannot be modified.';\n        case LoanStatus.REJECTED:\n          return 'This loan has already been rejected and cannot be modified.';\n        case LoanStatus.DISBURSED:\n          return 'This loan has been disbursed and cannot be modified.';\n        case LoanStatus.CLOSED:\n          return 'This loan is closed and cannot be modified.';\n        default:\n          return '';\n      }\n    }\n    onApprove() {\n      if (this.approvalForm.invalid) {\n        this.approvalForm.markAllAsTouched();\n        return;\n      }\n      if (!this.canApproveOrReject()) {\n        this.notificationService.error('This loan cannot be approved in its current status');\n        return;\n      }\n      const dialogData = {\n        title: 'Approve Loan Application',\n        message: 'Are you sure you want to approve this loan application? This action cannot be undone.',\n        confirmText: 'Approve',\n        confirmColor: 'primary'\n      };\n      const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\n        width: '400px',\n        data: dialogData\n      });\n      dialogRef.afterClosed().subscribe(confirmed => {\n        if (confirmed) {\n          this.submitApproval();\n        }\n      });\n    }\n    submitApproval() {\n      const loanId = this.loan()?.id;\n      if (!loanId) return;\n      this.isSubmitting.set(true);\n      const approvalData = this.approvalForm.value;\n      this.loanService.approveLoan(loanId, approvalData).subscribe({\n        next: response => {\n          if (response.success) {\n            this.notificationService.success('Loan approved successfully');\n            this.router.navigate(['/loans', loanId]);\n          }\n          this.isSubmitting.set(false);\n        },\n        error: () => {\n          this.notificationService.error('Failed to approve loan');\n          this.isSubmitting.set(false);\n        }\n      });\n    }\n    onReject() {\n      if (this.rejectionForm.invalid) {\n        this.rejectionForm.markAllAsTouched();\n        return;\n      }\n      if (!this.canApproveOrReject()) {\n        this.notificationService.error('This loan cannot be rejected in its current status');\n        return;\n      }\n      const dialogData = {\n        title: 'Reject Loan Application',\n        message: 'Are you sure you want to reject this loan application? This action cannot be undone.',\n        confirmText: 'Reject',\n        cancelText: 'Cancel',\n        confirmColor: 'warn'\n      };\n      const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\n        width: '400px',\n        data: dialogData\n      });\n      dialogRef.afterClosed().subscribe(confirmed => {\n        if (confirmed) {\n          this.submitRejection();\n        }\n      });\n    }\n    submitRejection() {\n      const loanId = this.loan()?.id;\n      if (!loanId) return;\n      this.isSubmitting.set(true);\n      const rejectionData = this.rejectionForm.value;\n      this.loanService.rejectLoan(loanId, rejectionData).subscribe({\n        next: response => {\n          if (response.success) {\n            this.notificationService.success('Loan rejected');\n            this.router.navigate(['/loans', loanId]);\n          }\n          this.isSubmitting.set(false);\n        },\n        error: () => {\n          this.notificationService.error('Failed to reject loan');\n          this.isSubmitting.set(false);\n        }\n      });\n    }\n    static {\n      this.ɵfac = function LoanReviewComponent_Factory(t) {\n        return new (t || LoanReviewComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LoanService), i0.ɵɵdirectiveInject(i4.NotificationService), i0.ɵɵdirectiveInject(i5.MatDialog));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoanReviewComponent,\n        selectors: [[\"app-loan-review\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 3,\n        vars: 5,\n        consts: [[\"title\", \"Review Loan Application\", 3, \"subtitle\", \"showBackButton\", \"backRoute\"], [\"class\", \"content-container\", 4, \"ngIf\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [1, \"content-container\"], [1, \"review-layout\"], [1, \"summary-card\"], [1, \"summary-grid\"], [1, \"summary-item\"], [1, \"label\"], [1, \"value\"], [1, \"value\", \"highlight\"], [1, \"summary-item\", \"full-width\"], [\"class\", \"warning-card\", 4, \"ngIf\"], [\"class\", \"action-card\", 4, \"ngIf\"], [1, \"warning-card\"], [1, \"warning-content\"], [1, \"warning-icon\"], [1, \"warning-text\"], [1, \"action-card\"], [1, \"card-icon\", \"success\"], [3, \"formGroup\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"approvedAmount\", \"placeholder\", \"Enter approved amount\"], [\"matPrefix\", \"\"], [4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"number\", \"step\", \"0.1\", \"formControlName\", \"interestRate\", \"placeholder\", \"Enter interest rate\"], [\"matSuffix\", \"\"], [\"matInput\", \"\", \"formControlName\", \"remarks\", \"rows\", \"3\", \"placeholder\", \"Add any remarks for approval\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"submit-button\", 3, \"click\", \"disabled\"], [1, \"card-icon\", \"danger\"], [\"matInput\", \"\", \"formControlName\", \"rejectionReason\", \"rows\", \"4\", \"placeholder\", \"Enter detailed reason for rejection (10-1000 characters)\"], [\"matInput\", \"\", \"formControlName\", \"notes\", \"rows\", \"2\", \"placeholder\", \"Add any additional notes (max 500 characters)\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 1, \"submit-button\", 3, \"click\", \"disabled\"], [1, \"loading-container\"]],\n        template: function LoanReviewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"app-page-header\", 0);\n            i0.ɵɵtemplate(1, LoanReviewComponent_div_1_Template, 48, 14, \"div\", 1)(2, LoanReviewComponent_div_2_Template, 2, 0, \"div\", 2);\n          }\n          if (rf & 2) {\n            let tmp_0_0;\n            let tmp_2_0;\n            i0.ɵɵproperty(\"subtitle\", \"Application: \" + (((tmp_0_0 = ctx.loan()) == null ? null : tmp_0_0.applicationNumber) || \"\"))(\"showBackButton\", true)(\"backRoute\", \"/loans/\" + ((tmp_2_0 = ctx.loan()) == null ? null : tmp_2_0.id));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loan());\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading());\n          }\n        },\n        dependencies: [CommonModule, i6.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, MatCardModule, i7.MatCard, i7.MatCardContent, i7.MatCardHeader, i7.MatCardTitle, MatButtonModule, i8.MatButton, MatFormFieldModule, i9.MatFormField, i9.MatLabel, i9.MatError, i9.MatPrefix, i9.MatSuffix, MatInputModule, i10.MatInput, MatIconModule, i11.MatIcon, MatProgressSpinnerModule, i12.MatProgressSpinner, PageHeaderComponent, InrCurrencyPipe],\n        styles: [\".content-container[_ngcontent-%COMP%]{padding:32px 24px;max-width:1200px;margin:0 auto;position:relative;z-index:1;min-height:100vh}.content-container[_ngcontent-%COMP%]:before{content:\\\"\\\";position:fixed;top:0;left:0;width:100%;height:100%;background-image:url(https://wallpapercat.com/w/full/1/0/3/2155565-1920x1080-desktop-full-hd-money-wallpaper-photo.jpg);background-size:cover;background-position:center;background-attachment:fixed;opacity:.81;z-index:-2;pointer-events:none}.content-container[_ngcontent-%COMP%]:after{content:\\\"\\\";position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 50% 50%,rgba(102,126,234,.06) 0%,transparent 70%);z-index:-1;pointer-events:none}.review-layout[_ngcontent-%COMP%]{display:grid;gap:28px}.summary-card[_ngcontent-%COMP%]{background:#fffffff2!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;border-radius:20px!important;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a!important;transition:all .3s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #0000001f!important}.summary-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:24px}.summary-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px 20px;background:#667eea0a;border-radius:12px;transition:all .2s ease}.summary-item[_ngcontent-%COMP%]:hover{background:#667eea14;transform:translate(4px)}.summary-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#0000008c;text-transform:uppercase;letter-spacing:.5px}.summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px;color:#000000de;font-weight:500}.summary-item[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{font-size:22px;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-item[_ngcontent-%COMP%]   p.value[_ngcontent-%COMP%]{margin:0;line-height:1.6}.warning-card[_ngcontent-%COMP%]{background:#fff3cdf2!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;border-radius:20px!important;border:2px solid rgba(255,152,0,.3);box-shadow:0 8px 32px #ff980026!important;transition:all .3s ease}.warning-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #ff980033!important}.warning-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.warning-card[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px;padding:24px}.warning-card[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ff9800;flex-shrink:0}.warning-card[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{flex:1}.warning-card[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:20px;font-weight:700;color:#000000de}.warning-card[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:1.6;color:#000000b3}.action-card[_ngcontent-%COMP%]{background:#fffffff2!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important;border-radius:20px!important;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a!important;position:relative;overflow:hidden;transition:all .3s ease}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #0000001f!important}.action-card[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:-50%;right:-20%;width:200px;height:200px;background:radial-gradient(circle,rgba(102,126,234,.05) 0%,transparent 70%);border-radius:50%;pointer-events:none}.action-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:24px;position:relative;z-index:1}.action-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:20px;font-weight:700}.action-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.action-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .card-icon.success[_ngcontent-%COMP%]{color:#4caf50}.action-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .card-icon.danger[_ngcontent-%COMP%]{color:#f44336}.action-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{position:relative;z-index:1}.action-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.action-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.action-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{align-self:flex-start;margin-top:12px;padding:12px 32px!important;border-radius:25px!important;font-weight:600!important;letter-spacing:.5px;box-shadow:0 4px 15px #0000001a!important;transition:all .3s ease!important}.action-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026!important}.action-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:500px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px}@media (max-width: 768px){.content-container[_ngcontent-%COMP%]{padding:20px 16px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.action-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{width:100%;justify-content:center}}\"]\n      });\n    }\n  }\n  return LoanReviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}